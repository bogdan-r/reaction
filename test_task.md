## Задача

Есть химическая формула некоторого сложного вещества и набор правил превращения стоящих рядом элементов в результате реакции. Например:

```
Полимер – NNCS

CO -> S
OO -> N
CS -> O
NO -> C
OS -> C
OC -> S
ON -> C
NN -> C
SO -> O
NC -> S
NS -> S
SN -> S
SS -> N
SC -> S
CC -> N
CN -> C
```

Правило `AS -> C` означает, что стоящие рядом элементы `A` и `S` порождают элемент `С`, который встает между ними. В результате подпоследовательность `AS` преващается в `ACS`. Наша задача проанализировать полимер, полученный после `n` шагов реакции.

Несколько шагов для формулы из примера:

```
Исходная формула:     NNCS
После 1 шага:         NCNSCOS
После 2 шага:         NSCCNSSSCSOCS
После 3 шага:         NSSSCNCCNSSNSNSSCOSOOSCOS
После 4 шага:         NSSNSNSSCCNSCNCCNSSNSSNSSSNSSNSSCSOCSOONOCSSCSOCS
```

Назовем `мощностью полимера` разницу между количеством наиболее часто встречающегося элемента в формуле и наиболее редко встречающегося. В нашем примере после `10` шагов в формуле будет `1749` элементов `S` и `161` элементов `O`, и таким образом мощность формулы после 10 шагов реакции равна `1749 - 161 = 1588`.

### Задание:
1. Написать код, определяющий мощность полимера через `n` шагов реакции.
2. Должен пройти тест A
3. *необязательная часть* Должен пройти тест S

### Шаблон решения

```
defmodule Reaction do
  def run(formula, rules, n)
end

ExUnit.start()

defmodule ReactionTest do
  use ExUnit.Case

  @formula "NNCS"

  @rules %{
    "CO" => "S",
    "OO" => "N",
    "CS" => "O",
    "NO" => "C",
    "OS" => "C",
    "OC" => "S",
    "ON" => "C",
    "NN" => "C",
    "SO" => "O",
    "NC" => "S",
    "NS" => "S",
    "SN" => "S",
    "SS" => "N",
    "SC" => "S",
    "CC" => "N",
    "CN" => "C",
  }

  test "A" do
    assert 1588 == Reaction.run(@formula, @rules, 10)
  end

  test "B" do
    assert 2_188_189_693_529 == Reaction.run(@formula, @rules, 40)
  end
end
```
